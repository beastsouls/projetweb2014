<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>List</title>
<link rel="stylesheet" type="text/css" href="/style.css" />
<link rel="stylesheet" type="text/css" href="/select/select2.css" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />s
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<script src="/select/select2.js"></script>
<link type="text/css" href="/asset/css/bootstrap.css" rel="stylesheet"/>
<script>
	$(document).ready(function() {
		$("#zzz").select2();
	});
	
	function modifier()
	{
	var valeur = document.forms['form1'].elements['zzz'].value; // Contient la valeur de l'<input />

	document.location.href = '../client/recherche?id='+valeur;
	}
	
	function creationClient()
	{
		document.location.href = '../create/client';
	}
	
	function import(){
		alert("Demande au prof, import d'excel, fichier texte ????");
	}
	
	function export(){
		alert("Demande au prof, en quel format export ?")
	}
	$(document).ready(function(){
	    $('.filterable .btn-filter').click(function(){
	        var $panel = $(this).parents('.filterable'),
	        $filters = $panel.find('.filters input'),
	        $tbody = $panel.find('.table tbody');
	        if ($filters.prop('disabled') == true) {
	            $filters.prop('disabled', false);
	            $filters.first().focus();
	        } else {
	            $filters.val('').prop('disabled', true);
	            $tbody.find('.no-result').remove();
	            $tbody.find('tr').show();
	        }
	    });

	    $('.filterable .filters input').keyup(function(e){
	        /* Ignore tab key */
	        var code = e.keyCode || e.which;
	        if (code == '9') return;
	        /* Useful DOM data and selectors */
	        var $input = $(this),
	        inputContent = $input.val().toLowerCase(),
	        $panel = $input.parents('.filterable'),
	        column = $panel.find('.filters th').index($input.parents('th')),
	        $table = $panel.find('.table'),
	        $rows = $table.find('tbody tr');
	        /* Dirtiest filter function ever ;) */
	        var $filteredRows = $rows.filter(function(){
	            var value = $(this).find('td').eq(column).text().toLowerCase();
	            return value.indexOf(inputContent) === -1;
	        });
	        /* Clean previous no-result if exist */
	        $table.find('tbody .no-result').remove();
	        /* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
	        $rows.show();
	        $filteredRows.hide();
	        /* Prepend no-result row if all rows are filtered */
	        if ($filteredRows.length === $rows.length) {
	            $table.find('tbody').prepend($('<tr class="no-result text-center"><td colspan="'+ $table.find('.filters th').length +'">No result found</td></tr>'));
	        }
	    });
	});
</script>

</head>
<body>
<ul class="nav nav-tabs">
    			<li><a href="/client/">Accueil</a></li>  
    			<li><a href="/client/">Client</a></li>
    			<li><a href="/produit/">Produit</a></li>
 </ul>
 
 <ul class="nav nav-tabs">
    			<li><a href="/client/">Client</a></li>  
    			<li><a href="/client/groupe">Groupe</a></li>
 </ul>

<fieldset class="well the-fieldset">		
	<td>
			<a href="javascript:creationClient();">
			<input type="button" name = "creationClient" value="Creer un nouveau client" class="btn btn-inverse"/>
			</a>
			<a href="javascript:import();">
			<input type="button" name = "import" value="import" class="btn btn-inverse"/>
			</a>
			<a href="javascript:export();">
			<input type="button" name = "export" value="export" class="btn btn-inverse"/>
			</a>
	</td>
</fieldset>

<!-- <fieldset class="well the-fieldset">
	<form action="../client/recherche" method="get" id="form1" name="form1">
		<table>
			<tr>
				<td><label> Liste de client</label></td>
			</tr>
			<tr>
				<td>
					<SELECT class="taille" id="zzz" name="zzz"  >
							<option th:each="client : ${clients}"  th:text="${client.name}" th:value="${client.id}" id="${client.id}" value="${client.id}"></option>
					</SELECT>
				</td>
				<td> <a href="javascript:modifier();"> <input value="Rechercher" class="btn btn-success"/> </a> </td>
			</tr>
		</table>
	</form>
</fieldset>
-->
    <div class="row">
        <div class="panel panel-primary filterable">
            <div class="panel-heading">
                <div class="pull-right">
                    <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span> Filter</button>
                </div>
            </div>
            <table class="table">
            <thead>
                <tr class="filters">
                        <th><input type="text" class="form-control" placeholder="Nom" disabled="disabled"/></th>
                        <th><input type="text" class="form-control" placeholder="Compagnie" disabled="disabled"/></th>
                        <th><input type="text" class="form-control" placeholder="Email" disabled="disabled"/></th>
                        <th><input type="text" class="form-control" placeholder="Adresse" disabled="disabled"/></th>
                        <th><input type="text" class="form-control" placeholder="Statut" disabled="disabled"/></th>
                </tr>
		</thead>
		<tbody>
			<tr th:each="client : ${clients}">
				<td><span th:text="${client.name}"></span></td>
				<td><span th:text="${client.compagnie}"></span></td>
				<td><span th:text="${client.Email}"></span></td>
				<td><span th:text="${client.Adresse}"></span></td>
				<td><span th:text="${client.role}"></span></td>
				<td><span><a th:href="@{/edit/client(id=${client.id})}">Editer</a></span></td>
				<td><span><a th:href="@{/delete/client(id=${client.id})}">Supprimer</a></span></td>
			</tr>
		</tbody>
            </table>
        </div>
    </div>

</body>
</html>